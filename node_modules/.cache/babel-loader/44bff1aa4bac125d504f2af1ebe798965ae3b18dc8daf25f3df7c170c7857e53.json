{"ast":null,"code":"const BACKEND_URL='https://backend-gwc.onrender.com';const UniverseData={userData:null,setUserData(data){console.log('Setting user data:',data);this.userData=data;},async getUserData(){console.log('Getting user data:',this.userData);if(!this.userData){throw new Error('User data not initialized');}return this.userData;},async updateUserData(updates){if(!this.userData||!this.userData.telegram_id){throw new Error('User not initialized');}try{const response=await fetch(\"\".concat(BACKEND_URL,\"/update\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:this.userData.telegram_id,updates:updates})});if(!response.ok){throw new Error('Failed to update user data');}const updatedData=await response.json();this.userData=updatedData;return updatedData;}catch(error){console.error('Error updating user data:',error);throw error;}},async incrementTotalClicks(amount){return this.updateUserData({totalClicks:{$inc:amount}});},async setEnergy(newEnergy){return this.updateUserData({energy:newEnergy});},async upgradeAttribute(attribute,cost){return this.updateUserData({[\"\".concat(attribute,\"Level\")]:{$inc:1},totalClicks:{$inc:-cost}});}};export default UniverseData;","map":{"version":3,"names":["BACKEND_URL","UniverseData","userData","setUserData","data","console","log","getUserData","Error","updateUserData","updates","telegram_id","response","fetch","concat","method","headers","body","JSON","stringify","user_id","ok","updatedData","json","error","incrementTotalClicks","amount","totalClicks","$inc","setEnergy","newEnergy","energy","upgradeAttribute","attribute","cost"],"sources":["C:/Users/valery-sm/Frontend_GWC/src/Universes/EWI/src/UniverseData.js"],"sourcesContent":["const BACKEND_URL = 'https://backend-gwc.onrender.com';\r\n\r\nconst UniverseData = {\r\n  userData: null,\r\n\r\n  setUserData(data) {\r\n    console.log('Setting user data:', data);\r\n    this.userData = data;\r\n  },\r\n\r\n  async getUserData() {\r\n    console.log('Getting user data:', this.userData);\r\n    if (!this.userData) {\r\n      throw new Error('User data not initialized');\r\n    }\r\n    return this.userData;\r\n  },\r\n\r\n  async updateUserData(updates) {\r\n    if (!this.userData || !this.userData.telegram_id) {\r\n      throw new Error('User not initialized');\r\n    }\r\n    \r\n    try {\r\n      const response = await fetch(`${BACKEND_URL}/update`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          user_id: this.userData.telegram_id,\r\n          updates: updates\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to update user data');\r\n      }\r\n\r\n      const updatedData = await response.json();\r\n      this.userData = updatedData;\r\n      return updatedData;\r\n    } catch (error) {\r\n      console.error('Error updating user data:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async incrementTotalClicks(amount) {\r\n    return this.updateUserData({ totalClicks: { $inc: amount } });\r\n  },\r\n\r\n  async setEnergy(newEnergy) {\r\n    return this.updateUserData({ energy: newEnergy });\r\n  },\r\n\r\n  async upgradeAttribute(attribute, cost) {\r\n    return this.updateUserData({\r\n      [`${attribute}Level`]: { $inc: 1 },\r\n      totalClicks: { $inc: -cost },\r\n    });\r\n  },\r\n};\r\n\r\nexport default UniverseData;"],"mappings":"AAAA,KAAM,CAAAA,WAAW,CAAG,kCAAkC,CAEtD,KAAM,CAAAC,YAAY,CAAG,CACnBC,QAAQ,CAAE,IAAI,CAEdC,WAAWA,CAACC,IAAI,CAAE,CAChBC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEF,IAAI,CAAC,CACvC,IAAI,CAACF,QAAQ,CAAGE,IAAI,CACtB,CAAC,CAED,KAAM,CAAAG,WAAWA,CAAA,CAAG,CAClBF,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAE,IAAI,CAACJ,QAAQ,CAAC,CAChD,GAAI,CAAC,IAAI,CAACA,QAAQ,CAAE,CAClB,KAAM,IAAI,CAAAM,KAAK,CAAC,2BAA2B,CAAC,CAC9C,CACA,MAAO,KAAI,CAACN,QAAQ,CACtB,CAAC,CAED,KAAM,CAAAO,cAAcA,CAACC,OAAO,CAAE,CAC5B,GAAI,CAAC,IAAI,CAACR,QAAQ,EAAI,CAAC,IAAI,CAACA,QAAQ,CAACS,WAAW,CAAE,CAChD,KAAM,IAAI,CAAAH,KAAK,CAAC,sBAAsB,CAAC,CACzC,CAEA,GAAI,CACF,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAId,WAAW,YAAW,CACpDe,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,OAAO,CAAE,IAAI,CAAClB,QAAQ,CAACS,WAAW,CAClCD,OAAO,CAAEA,OACX,CAAC,CACH,CAAC,CAAC,CAEF,GAAI,CAACE,QAAQ,CAACS,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAb,KAAK,CAAC,4BAA4B,CAAC,CAC/C,CAEA,KAAM,CAAAc,WAAW,CAAG,KAAM,CAAAV,QAAQ,CAACW,IAAI,CAAC,CAAC,CACzC,IAAI,CAACrB,QAAQ,CAAGoB,WAAW,CAC3B,MAAO,CAAAA,WAAW,CACpB,CAAE,MAAOE,KAAK,CAAE,CACdnB,OAAO,CAACmB,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjD,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,KAAM,CAAAC,oBAAoBA,CAACC,MAAM,CAAE,CACjC,MAAO,KAAI,CAACjB,cAAc,CAAC,CAAEkB,WAAW,CAAE,CAAEC,IAAI,CAAEF,MAAO,CAAE,CAAC,CAAC,CAC/D,CAAC,CAED,KAAM,CAAAG,SAASA,CAACC,SAAS,CAAE,CACzB,MAAO,KAAI,CAACrB,cAAc,CAAC,CAAEsB,MAAM,CAAED,SAAU,CAAC,CAAC,CACnD,CAAC,CAED,KAAM,CAAAE,gBAAgBA,CAACC,SAAS,CAAEC,IAAI,CAAE,CACtC,MAAO,KAAI,CAACzB,cAAc,CAAC,CACzB,IAAAK,MAAA,CAAImB,SAAS,WAAU,CAAEL,IAAI,CAAE,CAAE,CAAC,CAClCD,WAAW,CAAE,CAAEC,IAAI,CAAE,CAACM,IAAK,CAC7B,CAAC,CAAC,CACJ,CACF,CAAC,CAED,cAAe,CAAAjC,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}